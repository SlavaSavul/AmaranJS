(function(){!function(t,i,n){var e=function(t){var i={type:"notification",theme:"default",position:"top right",xaxis:"top",yaxis:"right",content:"Hello from amaranjs, you just forget content.",in:"right",out:"right",timeout:3e3,sticky:!1,beforeStart:!1,afterEnd:!1,onClick:!1,delay:100};this.config=this.merge(i,t);var n=this.config.position.split(" ");this.config.xaxis=n[1],this.config.yaxis=n[0]};e.prototype={init:function(t){return this.config=this.merge(this.defaults,t),this},position:function(t,i){return this.config.xaxis=i,this.config.yaxis=t,this.config.position=t+" "+i,this},in:function(t){return this.config.in=t,this},delay:function(t){return this.config.delay=t,this},beforeStart:function(t){return this.config.beforeStart=t,this},onClick:function(t){return this.config.onClick=t,this},afterEnd:function(t){return this.config.afterEnd=t,this},sticky:function(){return this.config.sticky=!0,this},out:function(t){return this.config.out=t,this},timeout:function(t){return this.config.timeout=t,this},content:function(t){return this.config.content=t,this},run:function(){return this.wrapper(),this},wrapper:function(){var t,n="amaran-wrapper "+this.config.yaxis+" "+this.config.xaxis,e=i.getElementsByClassName(n);if(e.length<=0){var o=this.createElement(n);t=this.createElement("amaran-wrapper-inner"),o.appendChild(t),i.querySelector("body").appendChild(o)}else t=e[0].getElementsByClassName("amaran-wrapper-inner")[0];return this.wrapper=e,this.amaran=this.notification(),t.appendChild(this.amaran),this.inFrom(),this},notification:function(){this.config.beforeStart&&this.config.beforeStart();var t=this.parse(this.engine(this.theme("default"),this.config))[0];return t.className+=" amaran--from"+this.capitalize(this.config.in),t.addEventListener("click",function(){this.config.onClick?this.config.onClick():this.close(!0)}.bind(this)),t},inFrom:function(){var i=this,n=i.amaran.style,e=i.amaran.getBoundingClientRect();"right"===this.config.xaxis&&"left"===this.config.in&&(n.transition="all 1s ease",this.timeoutEffect("right",0)),"right"===this.config.xaxis&&"right"===this.config.in&&(n.transition="all 1s ease",this.timeoutEffect("marginLeft","5px")),"left"===this.config.xaxis&&"left"===this.config.in&&(n.transition="all 1s ease",this.timeoutEffect("marginLeft","5px")),"top"===this.config.in&&(n.opacity=0,n.display="flex",setTimeout(function(){n.top=-(e.top+e.height+15)+"px",n.opacity=1,setTimeout(function(){n.transition="all 1s ease",n.top=0,i.close()},95)},1)),"bottom"===this.config.in&&(n.opacity=0,n.display="flex",setTimeout(function(){n.top=t.innerHeight-e.top+5+"px",n.opacity=1,setTimeout(function(){n.transition="all 1s ease",n.top=0,i.close()},95)},5))},outTo:function(){var i=this.amaran.getBoundingClientRect();"right"===this.config.xaxis&&("left"===this.config.out&&this.moveX(-(t.innerWidth+i.width+15)),"right"===this.config.out&&this.moveX(i.width+15)),"left"===this.config.xaxis&&("left"===this.config.out&&this.moveX(-(i.width+15)),"right"===this.config.out&&this.moveX(t.innerWidth+i.width+15)),"bottom"===this.config.out&&this.moveY(t.innerHeight-i.top+15),"top"===this.config.out&&this.moveY(-(i.top+i.height+15));var n=this.amaranTransitionEnd();this.amaran.addEventListener(n,function(){this.amaran&&(this.amaran.innerHTML="",this.amaran.className+=" amaran-zip",setTimeout(function(){this.amaran.parentNode.removeChild(this.amaran)}.bind(this),600)),this.config.afterEnd&&this.config.afterEnd()}.bind(this),!1)},moveX:function(t){this.trans("x",t)},moveY:function(t){this.trans("y",t)},trans:function(t,i){this.amaran.style.transform="translate"+t.toUpperCase()+"("+i+"px)"},createElement:function(t){var n=i.createElement("div");return n.className+=t,n},close:function(t){if(!this.config.sticky||void 0!==t){var i=this;setTimeout(function(){i.outTo()},t?0:i.config.timeout)}},timeoutEffect:function(i,n){var e=this,o=this.amaranTransitionEnd(),a=function(){e.close(),t.removeEventListener(o,a,!1)};setTimeout(function(){e.amaran.style[i]=n,e.amaran.addEventListener(o,a(),!1)},this.config.delay)},capitalize:function(t){return t&&t[0].toUpperCase()+t.slice(1)},amaranTransitionEnd:function(){var t,n=i.createElement("div"),e={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(e.hasOwnProperty(t)&&void 0!==n.style[t])return e[t]},parse:function(t){var n=i.implementation.createHTMLDocument();return n.body.innerHTML=t,n.body.children},engine:function(t,i){for(var n,e=/<%([^%>]+)?%>/g,o="var r=[];\n",a=0,s=function(t,i){return o+=i?t.match(/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g)?t+"\n":"r.push("+t+");\n":""!==t?'r.push("'+t.replace(/"/g,'\\"')+'");\n':"",s};n=e.exec(t);)s(t.slice(a,n.index))(n[1],!0),a=n.index+n[0].length;return s(t.substr(a,t.length-a)),o+='return r.join("");',new Function(o.replace(/[\r\t\n]/g,"")).apply(i)},theme:function(t){if("default"===t)return'<div class="amaran <%this.theme%>"><div class="default-spinner"><span style="background-color:<% if(typeof this.color === undefined){%>#27ae60<%}else{%><%this.color%><%}%>"></span></div><div class="default-message"><span><%this.content%></span></div></div>'},merge:function(t,i){var n={};for(var e in t)n[e]=t[e];for(var e in i)n[e]=i[e];return n}},t.amaran=function(t){return new e(t)}}(window,document)}).call(this);